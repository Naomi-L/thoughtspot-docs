= Multi-tenancy with Orgs
:last_updated: 9/23/2022
:linkattrs:
:experimental:
:page-layout: default-cloud
:description: Understand ThoughtSpot's multi-tenancy feature, allowing your instance to be logically partitioned into multiple environments.

include::partial$org-intro.adoc[]

This article is an overview of the Orgs functionality and Org management in the standard ThoughtSpot Cloud environment. To learn more about Orgs functionality and programmatic Org management using REST APIs in the ThoughtSpot Everywhere environment, refer to https://visual-embed-sdk-beta-docs.vercel.app/docs/?pageid=orgs[Multi-tenancy with Orgs^].

== Orgs in ThoughtSpot

If the Orgs feature is enabled on your instance, only one org exists by default. ThoughtSpot refers to this default Org as the *Primary Org*. The cluster administrator is the administrator of the Primary Org. The administrator of the default Org can create more Orgs, add an administrator user profile to each Org to manage users and groups, and define access control at the Org level. This administrator can only administer their Org. Only administrators of the Primary Org can administer across Orgs.

The following diagram depicts the Orgs architecture on a multi-tenant ThoughtSpot instance.

image::org-logical-architecture.png[Org logical architecture diagram]

[NOTE]
====
* The Primary Org cannot be deleted.
* Each Org is identified by a unique name and can have its own users and groups.
* Groups are unique to an Org and can be created only within the context of an Org.
* A user can belong to multiple Orgs.
====

== Multi-tenant isolation

ThoughtSpot ensures complete Org isolation in a multi-tenant environment. Specifically, when you use the Orgs feature, ThoughtSpot ensures that all of the following are restricted to their particular Org:

* Cloud data warehouse connection
* Cloud data warehouse data
* Groups
* Users. Note that users can belong to multiple Orgs, but are not aware of Orgs they do not belong to.
* ThoughtSpot objects: Liveboards, worksheets, answers, and tables
* Search data content and indexing
* Search answers content and indexing
* Other indexing

== User roles

On a multi-tenant instance, ThoughtSpot supports the following 3 user roles: cluster administrator, Org administrator, and Org user. By default, the administrator of the Primary Org is a cluster administrator. The cluster administrator can access all Orgs and perform CRUD operations on all Orgs. The cluster administrator can also switch between Orgs and also act as an Org administrator.

Org administrators can administer and manage users and groups only of their respective organizations, not all Orgs. Users can belong to more than one Org and access data objects based on the privileges assigned to the groups to which they belong. The following diagram depicts the setup for users on a multi-tenant ThoughtSpot instance.

image::org-user-setup-diagram.png[Org user setup diagram]

=== Cluster administrators and Org administrators

include::partial$org-admin.adoc[]

== Create and manage Orgs

To create an Org on a multi-tenant ThoughtSpot instance, you need cluster administrator privileges. By default, the administrator of the Primary Org is a cluster administrator. The cluster administrator can create Orgs using either the UI or the REST v1 API endpoints. The cluster administrator can also edit and delete Orgs.

For information on how to create, edit, and delete Orgs, refer to xref:orgs-administration-overview.adoc#create-manage[Orgs administration].

To create Orgs using the REST v1 API endpoints, refer to https://visual-embed-sdk-beta-docs.vercel.app/docs/?pageid=orgs-api[Orgs API^].

== Switch between Orgs

Any user with access to multiple Orgs can use the *Org switcher* in the top navigation bar, next to the help icon, to switch between the Orgs they belong to. A user only sees the Orgs they belong to in the Org switcher. If a user is only part of one Org, they do not have the option to switch between Orgs. They only see the one Org that they belong to.

A cluster administrator can access several Org objects and apply configuration changes. Before performing any operation on the objects in an Org, the administrator must specify the correct Org to ensure that configuration changes are applied in the relevant Org context.

include::partial$all-org-scope.adoc[]

== Manage users and groups

include::partial$org-users-groups.adoc[]

For information on how to add, remove, and manage users and groups in Orgs, refer to xref:orgs-administration-overview.adoc#users-groups[Orgs administration].
