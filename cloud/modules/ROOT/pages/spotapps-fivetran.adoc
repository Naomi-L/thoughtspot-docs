= {spotapp}
:last_updated: 8/21/2023
:experimental:
:linkattrs:
:page-layout: default-cloud
:description: Use the FiveTran SpotApp connector block to move data from applications like Salesforce, ServiceNow, Jira and others into a cloud data warehouse to make it easier for you to use the SpotApps designed for those applications.
:spotapp: Fivetran SpotApp connector block
:application: Fivetran

// image::spotapp-redshift-liveboard.png[Redshift SpotApp Liveboard]

Use the {spotapp} to copy data from applications like Salesforce, ServiceNow, Jira and others into a cloud data warehouse to make it easier for you to use the SpotApps designed for those applications.

[#prerequisites]
== Prerequisites
Before you can use the {spotapp}, you must have the following:

* These credentials for your Fivetran system:
** API Key
** API Secret
+
NOTE: You must generate these in Fivetran.

* An existing connection in Fivetran to the cloud data warehouse where Fivetran will write the data from your source application.
* Credentials for your source application from which Fivetran will copy the data (Examples: Salesforce, ServiceNow, Jira, etc).
* You must create views based on the following {application} tables in your cloud data warehouse. If you already created the views, you only need access to the views, not the tables. Refer to <<schema,{spotapp} schema>> for more details.
** pg_user
** stl_query
** stl_wlm_query
** stv_wlm_service_class_config
** svl_qlog
** stl_alert_event_log
** svv_table_info
** stv_sessions
** stl_load_errors
** stv_node_storage_capacity
** stl_ddltext
** stl_plan_info
** svl_query_metrics_summary
** svl_s3query_summary

* Access to the following {application} views in your cloud data warehouse:
** pg_user_vw
** stl_query_vw
** stl_wlm_query_vw
** stv_wlm_service_class_config_vw
** svl_qlog_vw
** stl_alert_event_log_vw
** svv_table_info_vw
** stv_sessions_vw
** stl_load_errors_vw
** stv_node_storage_capacity_vw
** stl_ddltext_vw
** stl_plan_info_vw
** svl_query_metrics_summary_vw
** svl_s3query_summary_vw
* Run the required SQL commands in your cloud data warehouse. Refer to <<sql,Run SQL commands>>.

== Creating a Fivetran job to copy your data

To create a job to copy data from your source application into your cloud data warehouse, do the following:

. Go to the SpotApp you want to use.
. Select the *Connector Blocks* tab.
. For Fivetran, click *Configure*.
+
image::fivetran-config1.png[]
. Enter the _API key_ and _API Secret_ for Fivetran and click *Next*.
+
image::fivetran-config2.png[]
. For _Destination_, select the name of the connection to a cloud data warehouse you set up in Fivetran, create a _Schema_ name, select the _Sync frequency_, and then click *Next*.
+
image::fivetran-config3.png[]
. In the Authorize screen, click *Authorize*.
+
A page from Fivetran indicates ThoughtSpot is using Fivetran to connect to your source application.
. Click *Continue*.
+
The next page in Fivetran indicates the information you need to provide to connect Fivetran to your source application.
. Enter all the credentials for your source application, and click *Save & Test*.
+
A message appears indicating the connector is being configured, and then the SpotApps page appears again with the _Connector Blocks_ tab selected. This time, a _Reconfigure_ link appears next to the Fivetran connector block indicating the ELT job has been created in Fivetran.
+
image::fivetran-config4.png[]
+
After the Fivetran ELT job is complete, you are ready to deploy the SpotApp for your source application.
+
TIP: If you decide to make changes to your ELT job, you must do it in Fivetran.

. To deploy the SpotApp for your source application, refer to xref:spotapps-deploy.adoc[Deploying SpotApps].


[#schema]
== {spotapp} schema

The following table describes the schema for the {spotapp}.

|===
| Table/View | Column | Column type | Required column

| pg_user_vw| usename | varchar | Y
| pg_user_vw| usesuper| bool| N
| pg_user_vw| usesysid| int | Y
| stl_query_vw| query | int | Y
| stl_query_vw| pid | int | Y
| stl_query_vw| database| varchar | Y
| stl_query_vw| querytxt| varchar | Y
| stl_query_vw| starttime | timestamp | N
| stl_query_vw| endtime | timestamp | N
| stl_query_vw| aborted | int | N
| stl_query_vw| userid| int | N
| stl_wlm_query_vw| query | int | Y
| stl_wlm_query_vw| service_class | int | Y
| stv_wlm_service_class_config_vw | name| varchar | Y
| stv_wlm_service_class_config_vw | service_class | int | Y
| svl_qlog_vw | elapsed | int | Y
| svl_qlog_vw | query | int | Y
| stl_alert_event_log_vw| query | int | Y
| stl_alert_event_log_vw| event | varchar | Y
| stl_alert_event_log_vw| solution| varchar | N
| stl_alert_event_log_vw| pid | int | N
| stl_alert_event_log_vw| event_time| timestamp | N
| svv_table_info_vw | database| varchar | N
| svv_table_info_vw | table | varchar | Y
| svv_table_info_vw | size| int | N
| svv_table_info_vw | pct_used| numeric | N
| svv_table_info_vw | tbl_rows| numeric | Y
| stv_sessions_vw | starttime | timestamp | Y
| stv_sessions_vw | process | int | Y
| stv_sessions_vw | db_name | varchar | N
| stv_sessions_vw | timeout_sec | int | N
| stv_sessions_vw | user_name | varchar | Y
| stl_load_errors_vw| query | int | Y
| stl_load_errors_vw| line_number | int | N
| stl_load_errors_vw| session | int | N
| stl_load_errors_vw| colname | varchar | N
| stl_load_errors_vw| starttime | timestamp | N
| stl_load_errors_vw| tbl | int | N
| stl_load_errors_vw| filename| varchar | N
| stl_load_errors_vw| err_code| int | N
| stl_load_errors_vw| err_reason| varchar | Y
| stl_load_errors_vw| userid| int | Y
| stv_node_storage_capacity_vw| capacity| int | Y
| stv_node_storage_capacity_vw| used| int | Y
| stv_node_storage_capacity_vw| node| int | Y
| stl_ddltext_vw| pid | int | Y
| stl_plan_info_vw| nodeid| int | Y
| stl_plan_info_vw| query | int | Y
| svl_query_metrics_summary_vw| query | int | Y
| svl_s3query_summary_vw| query | int | Y

|===
