== Ports for intracluster network operations

Static ports are used for communication between services within the cluster.
ThoughtSpot recommends that you open all ports within a cluster.
This not required, but it will ensure that cluster communication works properly if additional ports are used in a future software release.

If your organization does not allow you to open all ports, make sure you open the required intracluster ports listed in the following table.
In addition, a number of ports are dynamically assigned to services, which change between runs.
The dynamic ports come from the range of ports that are dynamically allocated by Linux (20K+).

[options="header"]
|===
| Port | Protocol | Service Name | Direction | Source | Dest. | Description

[#port-80]
| 80
| TCP
| nginx
| inbound
| All nodes
| All nodes
| Primary app HTTP port (nginx)

[#port-443]
| 443
| TCP
| Secure nginx
| inbound
| All nodes
| All nodes
| Primary app HTTPS port (nginx)

[#port-2100]
| 2100
| RPC
| Oreo RPC port
| bidirectional
| All nodes
| All nodes
| Node daemon RPC

[#port-2101]
| 2101
| HTTP
| Oreo HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Node daemon HTTP

[#port-2181]
| 2181
| TCP
| Zookeeper servers listen on this RPC port for client connections
| bidirectional
| All nodes
| All nodes
| Zookeeper servers listen on this RPC port for client connections

[#port-3181]
| 3181
| TCP
| Zookeeper servers listen on this RPC port for client connections
| bidirectional
| All nodes
| All nodes
| Zookeeper servers listen on this RPC port for client connections

[#port-4181]
| 4181
| TCP
| Zookeeper servers listen on this RPC port for client connections
| bidirectional
| All nodes
| All nodes
| Zookeeper servers listen on this RPC port for client connections

[#port-2200]
| 2200
| RPC
| Orion master RPC port
| bidirectional
| All nodes
| All nodes
| Internal communication with the cluster manager

[#port-2201]
| 2201
| HTTP
| Orion master HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the cluster manager

[#port-2205]
| 2205
| TCP
| Cluster update service TCP port
| bidirectional
| All nodes
| All nodes
| Internal communication with the cluster manager

[#port-2210]
| 2210
| RPC
| Cluster stats service RPC port
| bidirectional
| All nodes
| All nodes
| Internal communication with the stats collector

[#port-2211]
| 2211
| HTTP
| Cluster stats service HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the stats collector

[#port-2230]
| 2230
| RPC
| Callosum stats collector RPC port
| bidirectional
| All nodes
| All nodes
| Internal communication with the BI stats collector

[#port-2231]
| 2231
| HTTP
| Callosum stats collector HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the BI stats collector

[#port-2240]
| 2240
| RPC
| Alert manager
| bidirectional
| All nodes
| All nodes
| Port where alerting service receives alert events

[#port-2241]
| 2241
| RPC
| Alert manager
| bidirectional
| All nodes
| All nodes
| Port where alerting service receives alert events

[#port-2888]
| 2888
| RPC
| Ports used by Zookeeper servers for communication between themselves
| bidirectional
| All nodes
| All nodes
| Ports used by Zookeeper servers for communication between themselves

[#port-3181]
| 3181
| RPC
| Ports used by Zookeeper servers for communication between themselves
| bidirectional
| All nodes
| All nodes
| Ports used by Zookeeper servers for communication between themselves

[#port-3888]
| 3888
| RPC
| Ports used by Zookeeper servers for communication between themselves
| bidirectional
| All nodes
| All nodes
| Ports used by Zookeeper servers for communication between themselves

[#port-4000]
| 4000
| RPC
| Falcon worker RPC port
| bidirectional
| All nodes
| All nodes
| Port used by data cache for communication between themselves

[#port-4001]
| 4001
| HTTP
| Falcon worker HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the data cache

[#port-4002]
| 4002
| HTTP
| Falcon worker HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the data cache

[#port-4003]
| 4003
| RPC
| Falcon worker RPC port
| bidirectional
| All nodes
| All nodes
| Port used by data cache for communication between themselves

[#port-4004]
| 4004
| RPC
| Falcon worker RPC port
| bidirectional
| All nodes
| All nodes
| Port used by data cache for communication between themselves

[#port-4021]
| 4021
| RPC
| Sage metadata service port (exported by Tomcat), Callosum services like meta-data services, medata-dependency service, scheduling service, session-less service, spotiq service
| bidirectional
| All nodes
| All nodes
| Port where search service contacts metadata service for metadata

[#port-4181]
| 4181
| RPC
| Ports used by Zookeeper servers for communication between themselves
| bidirectional
| All nodes
| All nodes
| Ports used by Zookeeper servers for communication between themselves

[#port-4201]
| 4201
| HTTP
| Sage auto complete server HTTP interface port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the search service

[#port-4231]
| 4231
| HTTP
| Sage index server HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the search service

[#port-4232]
| 4232
| RPC
| Sage index server metadata subscriber port
| bidirectional
| All nodes
| All nodes
| Port used for search service internal communication

[#port-4233]
| 4233
| RPC
| Sage index server RPC port
| bidirectional
| All nodes
| All nodes
| Port used for search service internal communication

[#port-4241]
| 4241
| HTTP
| Sage auto complete server HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Port used to debug the search service

[#port-4242]
| 4242
| RPC
| Sage auto complete server RPC port
| bidirectional
| All nodes
| All nodes
| Port used for search service internal communication

[#port-4243]
| 4243
| RPC
| Sage auto complete server metadata subscriber port
| bidirectional
| All nodes
| All nodes
| Port used for search internal communication

[#port-4244]
| 4244
| RPC
| Sage auto complete server metadata subscriber port
| bidirectional
| All nodes
| All nodes
| Port used for search internal communication

[#port-4245]
| 4245
| RPC
| Sage auto complete server metadata subscriber port
| bidirectional
| All nodes
| All nodes
| Port used for search internal communication

[#port-4249]
| 4249
| TCP
| Ports used by Enlite/SpotIQ
| bidirectional
| All nodes
| All nodes
| Port used for SpotIQ internal communication

[#port-4251]
| 4251
| RPC
| Sage master RPC port
| bidirectional
| All nodes
| All nodes
| Port used for search service internal communication

[#port-4405]
| 4405
| RPC
| Diamond (graphite) port
| bidirectional
| All nodes
| All nodes
| Port used for communication with monitoring service

[#port-4406]
| 4406
| RPC
| Diamond (graphite) port
| bidirectional
| All nodes
| All nodes
| Port used for communication with monitoring service

[#port-4500]
| 4500
| RPC
| Trace vault service RPC port
| bidirectional
| All nodes
| All nodes
| Trace collection for ThoughtSpot services

[#port-4501]
| 4501
| HTTP
| Trace vault service HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Debug trace collection

[#port-4851]
| 4851
| RPC
| Graphite manager RPC port
| bidirectional
| All nodes
| All nodes
| Communication with graphite manager

[#port-4852]
| 4852
| HTTP
| Graphite manager HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Debug graphite manager

[#port-4853]
| 4853
| RPC
| Elastic search stack (ELK) manager RPC port
| bidirectional
| All nodes
| All nodes
| Communication with log search service

[#port-4853a]
| 4853
| HTTP
| Elastic search stack (ELK) manager HTTP port
| bidirectional
| Admin IP addresses and all nodes
| All nodes
| Debug log search service

[#port-9200]
| 9200
| RPC
| Elastic search (ELK)
| bidirectional
| All nodes
| All nodes
| Communication with log search service

[#port-5021]
| 5021
| RPC
| Callosum services like meta-data services, medata-dependency service, scheduling service, session-less service, spotiq service
| bidirectional
| All nodes
| All nodes
| Port where search service contacts metadata service for metadata

[#port-5432]
| 5432
| Postgres
| Postgres database server port
| bidirectional
| All nodes
| All nodes
| Communication with Postgres database

[#port-6021]
| 6021
| RPC
| Callosum services like meta-data services, medata-dependency service, scheduling service, session-less service, spotiq service
| bidirectional
| All nodes
| All nodes
| Port where search service contacts metadata service for metadata

[#port-7021]
| 7021
| RPC
| Callosum services like meta-data services, medata-dependency service, scheduling service, session-less service, spotiq service
| bidirectional
| All nodes
| All nodes
| Port where search service contacts metadata service for metadata

[#port-8020]
| 8020
| RPC
| HDFS namenode server RPC port
| bidirectional
| All nodes
| All nodes
| Distributed file system (DFS) communication with clients

[#port-8021]
| 8021
| RPC
| Callosum services like meta-data services, medata-dependency service, scheduling service, session-less service, spotiq service
| bidirectional
| All nodes
| All nodes
| Port where search service contacts metadata service for metadata

[#port-8080]
| 8080
| HTTP
| Tomcat
| bidirectional
| All nodes
| All nodes
| BI engine communication with clients

[#port-8081]
| 8081
| HTTP
| Callosum/Tomcat status
| bidirectional
| All nodes
| All nodes
| BI engine communication with clients

[#port-8787]
| 8787
| HTTP
| Periscope (UI) service HTTP port
| bidirectional
| All nodes
| All nodes
| Administration UI back end

[#port-8888]
| 8888
| HTTP
| HTTP proxy server (tinyproxy)
| bidirectional
| All nodes
| All nodes
| Reverse SSH tunnel

[#port-11211]
| 11211
| Mem-cached
| Memcached server port
| bidirectional
| All nodes
| All nodes
| BI engine cache

[#port-12345]
| 12345
| ODBC
| Simba server port
| bidirectional
| All nodes
| All nodes
| Port used for ETL (extract, transform, load)

[#port-8480]
| 8480
| HTTP
| HDFS journalnode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS metadata

[#port-8485]
| 8485
| HTTP
| HDFS journalnode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS metadata

[#port-50070]
| 50070
| HTTP
| HDFS namenode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS metadata

[#port-50090]
| 50090
| HTTP
| HDFS secondary namenode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS metadata

[#port-50075]
| 50075
| HTTP
| HDFS datanode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-50010]
| 50010
| HTTP
| HDFS datanode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-50020]
| 50020
| HTTP
| HDFS datanode server HTTP port
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-7000]
| 7000
| TCP
| Cassandra KV store database
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-7001]
| 7001
| TCP
| Cassandra
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-9042]
| 9042
| HTTP
| Munshi server impression service, Cassandra
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-9160]
| 9160
| TCP
| Cassandra
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-4010]
| 4010
| HTTP
| Falcon moderator
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-4011]
| 4011
| HTTP
| Falcon moderator
| bidirectional
| All nodes
| All nodes
| Debug DFS data

[#port-20123-32768]
| 20123 - 32768
| TCP (dynamic)
| Dynamic port in this range used for various services and anciliary services like atlas, caffeine, callhome, callosum, falcon, monitoring, munshi server, nlp, object_search, postgres, sage UBR, spotiq snapshot, timely
| All nodes
| Services
|
|

[#port-5270]
| 5270
| TCP
| Cluster monitoring service (ELK)
| bidirectional
| All nodes
| All nodes
| Services

[#port-5271]
| 5271
| TCP
| Cluster monitoring service (ELK)
| bidirectional
| All nodes
| All nodes
| Services

[#port-5601]
| 5601
| TCP
| Kibana UI (ELK)
| bidirectional
| All nodes
| All nodes
| Services

[#port-6311]
| 6311
| TCP
| R service
| bidirectional
| All nodes
| All nodes
| Services

[#port-8008]
| 8008
| TCP
| Video recorder
| bidirectional
| All nodes
| All nodes
| Services

[#port-9090]
| 9090
| TCP
| Timely
| bidirectional
| All nodes
| All nodes
| Services

[#port-unknown]
|
| ICMPv4
| Used for health check of cluster nodes
| bidirectional
| All nodes
| All nodes
| Services
|===
